<% expands('layouts/chimera') %>

<% start('pageCentral') %>
	<main>
		<article class="chimeraEditor">
			<header class="chimeraEditor-header u-stretch">
				<h1 class="pageTitle u-child"><%= pageTitle %>:</h1>
				<nav class="u-child">
					<% Chimera.printActions('model') %>
				</nav>
			</header>
			<table class="modelList">
				<tr>
					<th><!-- Radiobuttons --></th>
					<%
						iterator = fields.createIterator();
						while (iterator.hasNext()) {
							field = iterator.next().value;

							print('<th>');
							print(field.fieldType.title);
							print('</th>');
						}
					%>
					<th>Actions</th>
				</tr>
				<%
					iterator = records.createIterator();
					while (iterator.hasNext()) {
						item = iterator.next();
						record = item.value;
						fields = record.fields;

						console.log('Iterator item::')
						console.log(item);

						print('<tr class="modelList-record">');

						print('<td><div class="cbx">');
						print('<input class="cbx-input" type="checkbox" id="cbx-r-' + item.index + '" value="' + record.id + '">');
						print('<label class="cbx-label" for="cbx-r-' + item.index + '"><span class="cbx-span"></span></label>');
						print('</div></td>');

						for (i = 0; i < fields.length; i++) {
							print('<td>');
							Chimera.printField(fields[i]);
							print('</td>');
						}
						print('<td>');
						Chimera.printActions('record', record);
						print('</td>');
						print('</tr>');
					}
				%>
			</table>



			<% console.log(vars) %>
			<% console.log('Indexfields', indexFields) %>

			<% /*Pagination.getPageNumber()*/ %>
		</article>
	</main>
<% end('pageCentral') %>